<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
xmlns:core="clr-namespace:Syncfusion.Maui.Core;assembly=Syncfusion.Maui.Core"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:tabview="clr-namespace:Syncfusion.Maui.TabView;assembly=Syncfusion.Maui.TabView"
             xmlns:listview="clr-namespace:Syncfusion.Maui.ListView;assembly=Syncfusion.Maui.ListView"
             x:Class="OsteoMAUIApp.Views.Event.EventDetail"
             Title="EventDetail">
    <VerticalStackLayout>

        <StackLayout  Padding="5,0,0,5" VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand">
            <Label Text="{Binding Detail.Title}" FontSize="15" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
        </StackLayout>
        <!--<StackLayout Padding="5,0,0,5" Orientation="Horizontal">
            <Label Text="Distance" TextColor="#ACACAC" FontSize="14" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
            <Label Text="78.77 Km away" FontSize="14" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
        </StackLayout>-->
        <StackLayout Padding="5,0,0,5" Orientation="Horizontal">
            <Label Text="Days: " TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
            <Label Text="{Binding Detail.EventDate}" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
        </StackLayout>
        <Grid Padding="5,0,0,5" ColumnDefinitions="auto, *">
            <Label Text="Practitioners: " Grid.Column="0" TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
            <Label Text="{Binding Detail.ParticipantName}" 
           Grid.Column="1" 
           FontSize="13" 
           FontAttributes="Bold" 
           VerticalOptions="Center"
           LineBreakMode="WordWrap"
           Margin="10,0,0,0"/>
        </Grid>
        <StackLayout Padding="5,0,0,5" Orientation="Horizontal">
            <Label Text="Duration: " TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
            <Label Text="{Binding Detail.FromTime}" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,5,0" />
            <Label Text="-" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" />
            <Label Text="{Binding Detail.ToTime}" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="5,0,0,0" />

        </StackLayout>
        <StackLayout Padding="5,0,0,5" Orientation="Horizontal">
            <Label Text="Patients: " TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
            <Label Text="{Binding Detail.Adults}" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
        </StackLayout>
        <Grid Padding="5,0,0,5" ColumnDefinitions="auto, *">
            <Label Text="Location: " Grid.Column="0" TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
            <Label Text="{Binding Detail.Location}" 
           Grid.Column="1" 
           FontSize="13" 
           FontAttributes="Bold" 
           VerticalOptions="Center"
           LineBreakMode="WordWrap"
           Margin="10,0,0,0"/>
        </Grid>
        <Grid Padding="5,0,0,5" ColumnDefinitions="auto, *">
            <Label Text="Patient Groups: " Grid.Column="0" TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
            <Label Text="{Binding Detail.UserGroupStr}" 
           Grid.Column="1" 
           FontSize="13" 
           FontAttributes="Bold" 
           VerticalOptions="Center"
           LineBreakMode="WordWrap"
           Margin="10,0,0,0"/>
        </Grid>
        <Grid Padding="4,10,4,0">
            <tabview:SfTabView x:Name="tabView" TabBarBackground="#59D6B8" IndicatorPlacement="Bottom" IndicatorBackground="#fff" TabBarPlacement="Top" TabWidthMode="Default" HeaderHorizontalTextAlignment="Center">
                <tabview:SfTabView.Items>
                    <tabview:SfTabItem Header="Patients" TextColor="#fff">
                        <tabview:SfTabItem.Content>
                            <listview:SfListView x:Name="patients" AutoFitMode="DynamicHeight" ItemsSource="{Binding particepants}">
                                <listview:SfListView.ItemTemplate>
                                    <DataTemplate>
                                        <Grid Padding="5" Margin="0,5,0,25" BackgroundColor="#F0F0F0">
                                            <Border Padding="0,5,0,0" Margin="0" BackgroundColor="#fff">
                                                <Grid VerticalOptions="FillAndExpand" BackgroundColor="White" HorizontalOptions="FillAndExpand">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                    </Grid.RowDefinitions>
                                                    <StackLayout Grid.Row="0" Padding="8,10,0,5" Orientation="Horizontal" VerticalOptions="Center">
                                                        <Grid>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="Auto" />
                                                            </Grid.RowDefinitions>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="Auto" />
                                                                <ColumnDefinition Width="*" />
                                                            </Grid.ColumnDefinitions>
                                                        </Grid>
                                                        <Border Grid.Column="0" Padding="0" Stroke="#D3D3D3"
                                                            StrokeThickness="1"
                                                            BackgroundColor="Transparent"
                                                            WidthRequest="50"
                                                            HeightRequest="50"
                                                            StrokeShape="RoundRectangle 25">
                                                            <Image Source="blank.png" Aspect="AspectFill" WidthRequest="50" HeightRequest="50" />
                                                        </Border>
                                                        <StackLayout Grid.Column="1" Orientation="Vertical">
                                                            <Label Text="{Binding FullName}" FontSize="14" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                            <Label Text="{Binding Age, StringFormat='{0} years'}" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                        </StackLayout>
                                                        
                                                    </StackLayout>
                                                    <StackLayout Grid.Row="1" Padding="0,0,0,5" Orientation="Horizontal">
                                                        <Label Text="Location" TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                        <Label Text="{Binding Location}" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                    </StackLayout>
                                                    
                                                    <StackLayout Grid.Row="2" Padding="0,0,0,5" Orientation="Horizontal">
                                                        <Label Text="Detail" TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                        <Label Text="{Binding AttendanceStr}" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                    </StackLayout>
                                                    <StackLayout Grid.Row="3" Padding="0,0,0,5" Orientation="Horizontal">
                                                        <Label Text="Payment" TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                        <Label Text="{Binding PaymentStr}" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                    </StackLayout>

                                                </Grid>
                                            </Border>
                                        </Grid>

                                    </DataTemplate>
                                </listview:SfListView.ItemTemplate>
                            </listview:SfListView>
                        </tabview:SfTabItem.Content>
                    </tabview:SfTabItem>

                    <tabview:SfTabItem Header="Appointment Scheduling" TextColor="#fff">
                        <tabview:SfTabItem.Content>
                            <listview:SfListView x:Name="appointments" AutoFitMode="DynamicHeight" ItemsSource="{Binding upcommingSlots}">
                                <listview:SfListView.ItemTemplate>
                                    <DataTemplate>
                                        <Grid Padding="5" Margin="0,5,0,25" BackgroundColor="#F0F0F0">
                                            <Border Padding="0,5,0,0" Margin="0" BackgroundColor="#fff">
                                                <Grid VerticalOptions="FillAndExpand" BackgroundColor="White" HorizontalOptions="FillAndExpand">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                    </Grid.RowDefinitions>
                                                    <StackLayout Grid.Row="0" Padding="0">
                                                        <Grid>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="Auto" />
                                                            </Grid.RowDefinitions>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                            </Grid.ColumnDefinitions>
                                                            <StackLayout Grid.Column="0" Orientation="Horizontal">
                                                                <Label Text="Date: " TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                                <Label Text="{Binding Datestr}" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                            </StackLayout>
                                                            <StackLayout Grid.Column="1" HorizontalOptions="End">
                                                                <core:SfBadgeView  Margin="0,10,4,0" BadgeText="{Binding ColorTitle}" WidthRequest="120" HeightRequest="35"  HorizontalOptions="Center" VerticalOptions="Center">

                                                                    <core:SfBadgeView.BadgeSettings>
                                                                        <core:BadgeSettings Type="{Binding StatusType}" CornerRadius="5,5,5,5"/>
                                                                    </core:SfBadgeView.BadgeSettings>
                                                                </core:SfBadgeView>
                                                            </StackLayout>
                                                        </Grid>
                                                        

                                                    </StackLayout>
                                                    <StackLayout Grid.Row="1" Padding="0,0,0,8" Orientation="Horizontal">
                                                        <Label Text="Time: " TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                        <Label Text="{Binding Time}" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                    </StackLayout>
                                                    <StackLayout Grid.Row="2" Padding="0,0,0,8" Orientation="Horizontal">
                                                        <Label Text="Appointment Type: " TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                        <Label Text="{Binding AppointTypeStr}" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                    </StackLayout>
                                                    <StackLayout Grid.Row="3" Padding="0,0,0,8" Orientation="Horizontal">
                                                        <Label Text="Particepant Info: " TextColor="#ACACAC" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                        <Label Text="{Binding ParticipateInfo}" FontSize="13" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0" />
                                                    </StackLayout>

                                                </Grid>
                                            </Border>
                                        </Grid>
                                    </DataTemplate>
                                </listview:SfListView.ItemTemplate>
                            </listview:SfListView>
                        </tabview:SfTabItem.Content>
                    </tabview:SfTabItem>

                </tabview:SfTabView.Items>
            </tabview:SfTabView>
        </Grid>
    </VerticalStackLayout>
</ContentPage>